\documentclass[12pt,a4paper]{article}
% The following LaTeX packages must be installed on your machine: amsmath, authblk, bm, booktabs, caption, dcolumn, fancyhdr, geometry, graphicx, hyperref, latexsym, natbib
\input{183.dat}
\usepackage{gensymb}
\usepackage{amsthm}
\usepackage{float}
\usepackage{siunitx}
\usepackage{amssymb}
\usepackage{float}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{mathtools}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage[none]{hyphenat}
\usepackage{physics}
%\renewcommand{\familydefault}{\sfdefault}


\begin{document}

\setcounter{page}{1}

\section*{Lead Compensation}
\bigskip

With student number 03116, the transfer function is

\begin{equation}
	G(s) = \frac{3}{s^2 + s} \label{eq:transfer-func}
\end{equation}

\noindent
with a desired peak at 0.25 s after excitation with an overshoot of no more than 40\%.

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.75\linewidth]{sys_bode.png}
	\caption{Bode plot of \eqref{eq:transfer-func} in a unity gain negative feedback.}
	\label{fig:bode}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.75\linewidth]{sys-response.png}
	\caption{Step function response of \eqref{eq:transfer-func}.}
	\label{fig:sys-response}
\end{figure}

\begin{enumerate}[(a)]

\item \textbf{Desired pole location}

\begin{align}
	s_d &= -\sigma_d \pm j\omega_d \\
	&= -\zeta\omega_n + j\omega_n \sqrt{1-\zeta^2} \\
	\zeta &= \frac{-\ln(\%OS)}{\sqrt{\pi^2 + \ln^2(\%OS)}} \\
	&= \frac{-\ln(0.4)}{\sqrt{\pi^2 + \ln^2(0.4)}} \\
	\Aboxed{
		\zeta &= 0.28
	} \label{eq:zeta} \\
	\omega_n &= \frac{\pi}{T_p \sqrt{1-\zeta^2}} \\
	&= \frac{\pi}{0.25\sqrt{1-0.28^2}} \\
	\Aboxed{
		\omega_n &= 13.09
	} \label{eq:natural-freq} \\
	\Aboxed{
		s_d &= -3.67 + 12.57j
	} \label{eq:desired-pole}
\end{align}

\item \textbf{Angle deficiency}

\begin{align}
	G(s_d) &= \frac{3}{s_d^2 + s_d} \\
	&= -0.02 + 0.01j \\
	\measuredangle G(s_d) &= 203.81^\circ \\
	\Phi_d &= 180 - \measuredangle G(s_d) \\
	\Aboxed{
		\Phi_d &= 23.81^\circ
	} \label{eq:angle-def}
\end{align}

\item \textbf{Compensator poles and zeros}

\begin{align}
	\alpha &= \arctan(\frac{\sqrt{1-\zeta^2}}{\zeta}) \\
	z_c &= -\omega_n \sqrt{1-z^2} \tan(\frac{\alpha - \Phi_d}{2}) - \zeta\omega_n \\
	p_c &= -\omega_n \sqrt{1-z^2} \tan(\frac{\alpha + \Phi_d}{2}) - \zeta\omega_n
\end{align}

\end{enumerate}

\clearpage

\section*{Appendix: Source code}

\begin{lstlisting}
\lstset{
	basicstyle=\footnotesize
	language=Python
}
\end{lstlisting}

\end{document}